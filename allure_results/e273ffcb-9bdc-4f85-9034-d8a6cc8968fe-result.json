{"name": "Проверка увеличения счетчика при добавлении ингредиента.", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:192:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:510:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16", "trace": "self = <tests.test_main_page.TestMainPage object at 0x000001CCF79CC490>, driver = <selenium.webdriver.firefox.webdriver.WebDriver (session=\"8a831542-e63a-4064-bf18-1e0427977204\")>\ningredient = 'Мясо бессмертных моллюсков Protostomia', count = '1'\n\n    @pytest.mark.parametrize(\n        'ingredient, count',\n        [\n            ('Флюоресцентная булка R2-D3', '2'),\n            ('Соус Spicy-X', '1'),\n            ('Мясо бессмертных моллюсков Protostomia', '1')\n        ]\n    )\n    @allure.title('Проверка увеличения счетчика при добавлении ингредиента.')\n    @allure.description(\n        'Проверяем, что при добавлении ингредиента в заказ счётчик этого ингридиента увеличивается.')\n    def test_add_ingredients_count_increase(self, driver, ingredient, count):\n        main_page = MainPage(driver)\n>       assert main_page.count_ingredients(ingredient, count) == count\n\ntests\\test_main_page.py:67: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\main_page.py:45: in count_ingredients\n    return self.get_text_from_element(count_formatted)\npages\\base_page.py:38: in get_text_from_element\n    return self.find_element_with_waiting(locator).text\npages\\base_page.py:33: in find_element_with_waiting\n    WebDriverWait(self.driver, 10).until(expected_conditions.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"8a831542-e63a-4064-bf18-1e0427977204\")>\nmethod = <function visibility_of_element_located.<locals>._predicate at 0x000001CCF7A93420>, message = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       RemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nE       WebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:192:5\nE       NoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:510:5\nE       dom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16\n\nC:\\Users\\valer\\venv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py:105: TimeoutException"}, "description": "Проверяем, что при добавлении ингредиента в заказ счётчик этого ингридиента увеличивается.", "steps": [{"name": "Смотрим счетчик ингредиентов.", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:192:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:510:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16\n\n", "trace": "  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"F:\\Soft\\PyCharm 2023.1.3\\PycharmProjects\\Diplom_3\\pages\\main_page.py\", line 45, in count_ingredients\n    return self.get_text_from_element(count_formatted)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"F:\\Soft\\PyCharm 2023.1.3\\PycharmProjects\\Diplom_3\\pages\\base_page.py\", line 38, in get_text_from_element\n    return self.find_element_with_waiting(locator).text\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"F:\\Soft\\PyCharm 2023.1.3\\PycharmProjects\\Diplom_3\\pages\\base_page.py\", line 33, in find_element_with_waiting\n    WebDriverWait(self.driver, 10).until(expected_conditions.visibility_of_element_located(locator))\n  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 105, in until\n    raise TimeoutException(message, screen, stacktrace)\n"}, "steps": [{"name": "Перетаскиваем ингредиенты в бургер.", "status": "passed", "steps": [{"name": "Форматируем элемент.", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \".//p[@class = 'BurgerIngredient_ingredient__text__yp3dH' and text()='{}']\")"}, {"name": "num", "value": "'Мясо бессмертных моллюсков Protostomia'"}], "start": 1715632647971, "stop": 1715632647971}, {"name": "Скроллим к элементу", "status": "passed", "steps": [{"name": "Ищем элемент с ожиданием.", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \".//p[@class = 'BurgerIngredient_ingredient__text__yp3dH' and text()='Мясо бессмертных моллюсков Protostomia']\")"}], "start": 1715632647971, "stop": 1715632648012}], "parameters": [{"name": "locator", "value": "('xpath', \".//p[@class = 'BurgerIngredient_ingredient__text__yp3dH' and text()='Мясо бессмертных моллюсков Protostomia']\")"}], "start": 1715632647971, "stop": 1715632648018}, {"name": "Перетаскиваем элемент.", "status": "passed", "steps": [{"name": "Ищем элемент с ожиданием.", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \".//p[@class = 'BurgerIngredient_ingredient__text__yp3dH' and text()='Мясо бессмертных моллюсков Protostomia']\")"}], "start": 1715632648018, "stop": 1715632648030}, {"name": "Ищем элемент с ожиданием.", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \".//ul[@class = 'BurgerConstructor_basket__list__l9dp_']\")"}], "start": 1715632648030, "stop": 1715632648049}], "parameters": [{"name": "source_locator", "value": "('xpath', \".//p[@class = 'BurgerIngredient_ingredient__text__yp3dH' and text()='Мясо бессмертных моллюсков Protostomia']\")"}, {"name": "target_locator", "value": "('xpath', \".//ul[@class = 'BurgerConstructor_basket__list__l9dp_']\")"}], "start": 1715632648018, "stop": 1715632648603}], "parameters": [{"name": "ingredient", "value": "'Мясо бессмертных моллюсков Protostomia'"}], "start": 1715632647971, "stop": 1715632648603}, {"name": "Форматируем элемент.", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \".//p[@class = 'counter_counter__num__3nue1' and text()='{}']\")"}, {"name": "num", "value": "'1'"}], "start": 1715632648604, "stop": 1715632648604}, {"name": "Получаем текст из элемента.", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:192:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:510:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16\n\n", "trace": "  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"F:\\Soft\\PyCharm 2023.1.3\\PycharmProjects\\Diplom_3\\pages\\base_page.py\", line 38, in get_text_from_element\n    return self.find_element_with_waiting(locator).text\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"F:\\Soft\\PyCharm 2023.1.3\\PycharmProjects\\Diplom_3\\pages\\base_page.py\", line 33, in find_element_with_waiting\n    WebDriverWait(self.driver, 10).until(expected_conditions.visibility_of_element_located(locator))\n  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 105, in until\n    raise TimeoutException(message, screen, stacktrace)\n"}, "steps": [{"name": "Ищем элемент с ожиданием.", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:192:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:510:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16\n\n", "trace": "  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"F:\\Soft\\PyCharm 2023.1.3\\PycharmProjects\\Diplom_3\\pages\\base_page.py\", line 33, in find_element_with_waiting\n    WebDriverWait(self.driver, 10).until(expected_conditions.visibility_of_element_located(locator))\n  File \"C:\\Users\\valer\\venv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 105, in until\n    raise TimeoutException(message, screen, stacktrace)\n"}, "parameters": [{"name": "locator", "value": "('xpath', \".//p[@class = 'counter_counter__num__3nue1' and text()='1']\")"}], "start": 1715632648604, "stop": 1715632658664}], "parameters": [{"name": "locator", "value": "('xpath', \".//p[@class = 'counter_counter__num__3nue1' and text()='1']\")"}], "start": 1715632648604, "stop": 1715632658664}], "parameters": [{"name": "ingredient", "value": "'Мясо бессмертных моллюсков Protostomia'"}, {"name": "count", "value": "'1'"}], "start": 1715632647971, "stop": 1715632658664}], "parameters": [{"name": "driver", "value": "'firefox'"}, {"name": "ingredient", "value": "'Мясо бессмертных моллюсков Protostomia'"}, {"name": "count", "value": "'1'"}], "start": 1715632647970, "stop": 1715632658665, "uuid": "0ce6a8a8-f6f3-4b0a-b8bd-d7ea5594d5e9", "historyId": "2c24b0529a9e2f1cedc1efdd9a847169", "testCaseId": "6d7f7d4862830318e9d4d5727f0eadf7", "fullName": "tests.test_main_page.TestMainPage#test_add_ingredients_count_increase", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_main_page"}, {"name": "subSuite", "value": "TestMainPage"}, {"name": "host", "value": "DESKTOP-CTHN4B0"}, {"name": "thread", "value": "23796-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_main_page"}]}